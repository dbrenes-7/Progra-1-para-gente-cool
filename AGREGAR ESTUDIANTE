#include <stdio.h>
#include <stdlib.h>

typedef struct registroSala registroSala;
typedef struct Estudiante Estudiante;

struct registroSala{
    char id[20];
    char ubicacion[200];
    int capacidad;
    char recursos[200];
    char estado[50];
    int calificacion;
};

struct Estudiante{
    char nombre[100];
    char carrera[100];
    char correo[200];
    int carnet, numero;
};

void agregarEstudiante(){
    char capacidad_1[10];
    int numEstu;

    printf("Digite la cantidad de estudiantes que desea registrar: ");
    scanf("%d",&numEstu);

    Estudiante Estudiante[numEstu];
    FILE *Estu;
    Estu = fopen("Registros","b");

    for (int i=0;i<numEstu;i++){
        printf("\nIngrese el nombre del estudiante %i: ",i+1);
        scanf("%s",&Estudiante[i].nombre);
        printf("\nIngrese la carrera del estudiante %i: ",i+1);
        scanf("%s",&Estudiante[i].carrera);
        printf("\nIngrese el carnet del estudiante %i: ",i+1);
        scanf("%d",&Estudiante[i].carnet);
        printf("\nIngrese el correo electrónico del estudiante %i: ",i+1);
        scanf("%s",&Estudiante[i].correo);
        printf("\nIngrese el numero telefónico del estudiante %i: ",i+1);
        scanf("%d",&Estudiante[i].numero);
        printf("\nNombre: %s\nCarrera: %s\nCarnet: %i\nCorreo: %s\nNumero telefonico: %i",Estudiante[i].nombre,Estudiante[i].carrera,Estudiante[i].carnet,Estudiante[i].correo,Estudiante[i].numero);
        fprintf(Estu, "\nNombre: %s\nCarrera: %s\nCarnet: %i\nCorreo: %s\nNumero telefonico: %i",Estudiante[i].nombre,Estudiante[i].carrera,Estudiante[i].carnet,Estudiante[i].correo,Estudiante[i].numero);
    }
    fclose(Estu);
}

void agregarSala(){
    char capacidad[10];
    int numSalas;

    printf("Ingrese la cantidad de salas que agregara: ");
    scanf("%d",&numSalas);

    registroSala registroSala[numSalas];
    FILE *Archivo;
    Archivo = fopen("Registro","a");

    for (int i = 0; i < numSalas; ++i) {
        printf("\nIngrese el ID de la sala %i: ",i+1);
        scanf("%s",&registroSala[i].id);
        printf("\nIngrese la ubicacion de la sala %i: ",i+1);
        scanf("%s",&registroSala[i].ubicacion);
        printf("\nIngrese la capacidad de la sala %i: ",i+1);
        scanf("%s",&capacidad);
        registroSala[i].capacidad = atoi(capacidad);
        printf("\nIngrese los recursos de la sala %i: ",i+1);
        scanf("%s",&registroSala[i].recursos);
        printf("\nIngrese el estado de la sala %i: ",i+1);
        scanf("%s",&registroSala[i].estado);
        registroSala[i].calificacion = 100;
        printf("\nID: %s\nUbicacion: %s\nCapacidad: %i\nRecursos: %s\nEstado: %s\nCalificacion: %i",registroSala[i].id,registroSala[i].ubicacion,registroSala[i].capacidad,registroSala[i].recursos,registroSala[i].estado,registroSala[i].calificacion);
        fprintf(Archivo,"\nID: %s\nUbicacion: %s\nCapacidad: %i\nRecursos: %s\nEstado: %s\nCalificacion: %i",registroSala[i].id,registroSala[i].ubicacion,registroSala[i].capacidad,registroSala[i].recursos,registroSala[i].estado,registroSala[i].calificacion);
    }
    fclose(Archivo);
}

int main(){
    int eleccion;
    printf("1) Agregar estudiantes: ");
    printf("\n2) Agregar una sala: ");
    printf("\n3) Consulte una sala: ");
    printf("\n Escoja la opción de su preferencia: ");
    scanf("%d",&eleccion);
    switch(eleccion);
    if (eleccion == 1)
    {
        agregarEstudiante();
    }
    if (eleccion==2)
    {
        agregarSala();
    }
    else{
        consultarSala();
    }
    return 0;
}
